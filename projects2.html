---
title: Projects
permalink: "/projects2"
layout: page
---


<section id="projects">
  <div class="container-fluid">
    <div class="row">
      <div class="col-12 col-md-3">
        <div class="list-group" id="showProjects">
          <button class="btn btn-fab" data-toggle="modal" data-target="#newProjectModal"><i class="fas fa-plus"></i></button>
          <div href="#" class="list-group-item disabled">Projects</div>
        </div>
      </div>
      <div class="col-12 col-md-9">
    </div>
  </div>
</div>
</section>
<!-- new project modal -->
<div class="modal fade" id="newProjectModal" tabindex="-1" role="dialog" aria-labelledby="newProjectModal" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header text-center">
                <h4 class="modal-title w-100 font-weight-bold">New Project</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body mx-3">
                <div class="md-form mb-5">
                    <input type="text" id="newProjectName" class="form-control">
                    <label for="newProjectName">Project Name</label>
                </div>
                <div class="md-form mb-4">
                  <textarea type="text" id="newProjectDescription" class="form-control md-textarea" rows="3"></textarea>
                  <label for="newProjectDescription">Project Description</label>
                </div>
                <button class="btn btn-primary" id="newProjectCreate">Create</button>
              </div>
        </div>
    </div>
</div>


<!-- modal end -->



<script>
$(document).ready(function initApp() {
  // Listening for auth state changes.
  // [START authstatelistener]

  firebase.auth().onAuthStateChanged(function(user) {
    // [START_EXCLUDE silent]

    // [END_EXCLUDE]
    if (user) {
      // User is signed in.
      var database = firebase.database();
      var displayName = user.displayName;
      var email = user.email;
      var emailVerified = user.emailVerified;
      var photoURL = user.photoURL;
      var isAnonymous = user.isAnonymous;
      var uid = user.uid;
      var providerData = user.providerData;
      var projectsRef = firebase.database().ref('users/' + uid + '/projects/');
      projectsRef.on("child_added", function(data, prevChildKey) {
        var userProjects = data.val();
           $("#showProjects").append('<button id="projectButton" data-projectid="' + data.key + '" class="list-group-item list-group-item-action waves-effect">'+ userProjects.ProjectName +'</button>');

        }, function (error) {
           console.log("Error: " + error.code);
        })
      $("#newProjectCreate").click(function() {
        var newProjectName = $("#newProjectName").val();
        var newProjectDescription = $("#newProjectDescription").val();
        var d = new Date();
          if (newProjectName === "") {
            Command: toastr["info"]("Please enter a name for your project ", "Oops", {"positionClass": "toast-bottom-left"})
          } else {
            var userProjects = firebase.database().ref('users/' + uid + '/projects/');
            var newProject = userProjects.push();
            newProject.set({
                ProjectName: newProjectName,
                ProjectDescription: newProjectDescription,
                DateCreate : Date(),
                DateClose : ""
              },function(error) {
                if (error) {
                  Command: toastr["warning"]("Error code: " + error.code , "An error occurred ", {"positionClass": "toast-bottom-left"})
                } else {
                  Command: toastr["success"](" ", "Project Created", {"positionClass": "toast-bottom-left"})
                  $('#newProjectModal').modal('hide');
                  $("#newProjectName").val(null);
                  $("#newProjectDescription").val(null);
                }
            })
          }
        });


          }
      })
    });
</script>
